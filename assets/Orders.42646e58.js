var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,r=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;import{c as i,o as n,f as d,g as o,F as l,s as g,t as p,u as c,v as x}from"./vendor.7487b1ff.js";import{c as y}from"./index.00bdd539.js";const u={data:()=>({isLoading:!0,orders:[],currentPage:1}),computed:((e,i)=>{for(var n in i||(i={}))t.call(i,n)&&r(e,n,i[n]);if(a)for(var n of a(i))s.call(i,n)&&r(e,n,i[n]);return e})({},i("auth").mapGetters({isAuthenticated:"isAuthenticated"})),mounted(){this.isAuthenticated?this.fetchOrders(this.currentPage):this.$router.push({name:"Login"})},methods:{getStatusClass:e=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-"}[e]||"bg-gray-100 text-gray-800"),fetchOrders(e=1){y.get("/core/custom/orders/",{params:{page:e}}).then((({data:e})=>{this.orders=this.orders.concat(e.results),this.currentPage+=1,e.next&&e.next.length>10&&this.fetchOrders(this.currentPage)})).catch((()=>{alert("Unable get orders data. Maybe your session is expired. Try again by logout and then login.")}))},fetchDetails(e){alert("WIP ;)")}}},m={class:"bg-gray-100 py-5 min-h-screen"},b={class:"container bg-gray-100 mx-auto"},h={class:"flex flex-col"},f={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},v={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},w={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},_={class:"min-w-full divide-y divide-gray-200"},k=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Invoice "),o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Time "),o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Payment "),o("th",{scope:"col",class:"relative px-6 py-3"},[o("span",{class:"sr-only"},"Details")])])],-1),O={class:"bg-white divide-y divide-gray-200"},P={class:"px-6 py-4 whitespace-nowrap"},D={class:"text-sm text-gray-900"},j={class:"text-sm text-gray-500"},C={class:"px-6 py-4 whitespace-nowrap"},U={class:"text-sm text-gray-900"},A={class:"text-sm text-gray-500"},I={class:"px-6 py-4 whitespace-nowrap"},S={class:"px-6 py-4 whitespace-nowrap"},L={key:0},M={class:"text-xs leading-5 font-semibold"},T={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"};u.render=function(e,t,a,s,r,i){return n(),d("div",m,[o("div",b,[o("div",h,[o("div",f,[o("div",v,[o("div",w,[o("table",_,[k,o("tbody",O,[(n(!0),d(l,null,g(r.orders,(t=>(n(),d("tr",{key:t.id},[o("td",P,[o("div",D,"#"+p(t.id),1),o("div",j,p(t.invoice_no),1)]),o("td",C,[o("div",U,"Ordered at: "+p(e.formatDate(t.date)),1),o("div",A,"Working Days: "+p(e.workingDays(t.date)),1)]),o("td",I,[o("span",{class:["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",["pending"===t.order_status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800","confirmed"===t.order_status?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800","processing"===t.order_status?"bg-pink-100 text-pink-800":"bg-gray-100 text-gray-800","picked"===t.order_status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800","shipped"===t.order_status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","delivered"===t.order_status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","cancel"===t.order_status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"]]},p(t.order_status.toUpperCase()),3)]),o("td",S,[o("div",null,[o("span",{class:["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",["paid"===t.payment_status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","unpaid"===t.payment_status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800","refunded"===t.payment_status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"]]},p(t.payment_status.toUpperCase()),3)]),""!==t.payment_method?(n(),d("div",L,[o("span",M," Method: "+p(t.payment_method.toUpperCase()),1)])):c("",!0)]),o("td",T,[o("a",{href:"#",class:"text-indigo-600 hover:text-indigo-900",onClick:x((e=>i.fetchDetails(t)),["prevent"])},"Details",8,["onClick"])])])))),128))])])])])])])])])};export default u;
