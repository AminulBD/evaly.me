var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,n=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,s=(e,s)=>{for(var r in s||(s={}))t.call(s,r)&&n(e,r,s[r]);if(o)for(var r of o(s))a.call(s,r)&&n(e,r,s[r]);return e};import{c as r,M as l,a as i,b as c,d as u,r as d,e as m,o as p,f,g as h,w as g,h as _,t as E,T as b,i as v,j as y,F as S,k as O,l as k,m as T,n as w,p as x,q as R}from"./vendor.7487b1ff.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(o){const a=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((o,s)=>{const r=new URL(e,a);if(self[t].moduleMap[r])return o(self[t].moduleMap[r]);const l=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){s(new Error(`Failed to import: ${e}`)),n(i)},onload(){o(self[t].moduleMap[r]),n(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/assets/");const L=r("auth"),A={components:{Menu:l,MenuButton:i,MenuItems:c,MenuItem:u,ChevronDownIcon:d},data:()=>({}),computed:s({},L.mapGetters({profile:"profile",isAuthenticated:"isAuthenticated"})),methods:s(s({},L.mapActions({logout:"logout"})),{handleLogout(){this.logout().then((()=>{this.$router.push({name:"Home"})}))}})},I={class:"px-4 py-1 bg-gray-900"},C={class:"container flex place-items-center justify-between mx-auto"},P=h("img",{class:"w-auto",src:"/assets/logo.71618444.svg",alt:"Problematic Evaly"},null,-1),U={class:"py-2"},j={class:"list-none"},M={key:0,class:"inline-block"},F=_("Login"),N={class:"px-1 py-1"},D=_(" Profile "),K=_(" Orders "),H={class:"px-1 py-1"};A.render=function(e,t,o,a,n,s){const r=m("router-link"),l=m("ChevronDownIcon"),i=m("MenuButton"),c=m("MenuItem"),u=m("MenuItems"),d=m("Menu");return p(),f("header",I,[h("div",C,[h("div",null,[h(r,{to:{name:"Home"},class:"block w-20"},{default:g((()=>[P])),_:1})]),h("nav",U,[h("ul",j,[e.isAuthenticated?(p(),f(d,{key:1,as:"li",class:"relative inline-block z-50"},{default:g((()=>[h(i,{class:"inline-flex justify-center w-full px-3 py-1 text-sm text-white bg-red-700 rounded-full focus:outline-none"},{default:g((()=>[_(" Welcome, "+E(e.profile.first_name)+" ",1),h(l,{class:"w-5 h-5 ml-2 -mr-1","aria-hidden":"true"})])),_:1}),h(b,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:g((()=>[h(u,{class:"absolute right-0 w-56 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-sm ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:g((()=>[h("div",N,[h(c,null,{default:g((({active:e})=>[h(r,{to:"/profile",class:[e?"bg-red-700 text-white":"text-gray-900","block transition-all ease-in-out duration-200 rounded-md px-4 py-2 text-sm"]},{default:g((()=>[D])),_:2},1032,["class"])])),_:1}),h(c,null,{default:g((({active:e})=>[h(r,{to:{name:"Orders"},class:[e?"bg-red-700 text-white":"text-gray-900","block transition-all ease-in-out duration-200 rounded-md px-4 py-2 text-sm"]},{default:g((()=>[K])),_:2},1032,["class"])])),_:1})]),h("div",H,[h(c,null,{default:g((({active:e})=>[h("button",{class:[e?"bg-red-700 text-white":"text-gray-900","block w-full text-left transition-all ease-in-out duration-200 rounded-md px-4 py-2 text-sm"],onClick:t[1]||(t[1]=(...e)=>s.handleLogout&&s.handleLogout(...e))}," Logout ",2)])),_:1})])])),_:1})])),_:1})])),_:1})):(p(),f("li",M,[h(r,{to:{name:"Login"},class:"inline-block transition-all text-sm text-white py-1 px-3 bg-red-700 rounded-full"},{default:g((()=>[F])),_:1})]))])])])])};const G={};G.render=function(e,t,o,a,n,s){return v(e.$slots,"default")};const $={},B=y('<div class="py-5"></div><div class="text-center text-gray-500 bg-white text-sm py-3 fixed left-0 bottom-0 right-0"> Crafted by <a class="border-b-2 text-red-700" href="https://www.facebook.com/AminulBD">Aminul Islam</a>, Hosted in <a class="border-b-2 text-red-700" href="https://pages.github.com/">GitHub Pages</a> and fucking source code can be found <a class="border-b-2 text-red-700" href="https://github.com/AminulBD/evaly.me"> here</a>. </div>',2);$.render=function(e,t,o,a,n,s){return B};const V={};V.render=function(e,t){const o=m("router-view");return p(),f(o)};const Y={components:{Header:A,Content:G,Footer:$,DefaultView:V},data:()=>({})};let z;Y.render=function(e,t,o,a,n,s){const r=m("Header"),l=m("DefaultView"),i=m("Content"),c=m("Footer");return p(),f(S,null,[h(r),h(i,null,{default:g((()=>[h(l)])),_:1}),h(c)],64)};const q={},J=function(e,t){if(!t)return e();if(void 0===z){const e=document.createElement("link").relList;z=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in q)return;q[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":z,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))},W=[{path:"/",name:"Home",component:()=>J((()=>__import__("./Home.e10855f0.js")),["/assets/Home.e10855f0.js","/assets/vendor.7487b1ff.js"])},{path:"/profile",name:"Profile",component:()=>J((()=>__import__("./Profile.750ebeb3.js")),["/assets/Profile.750ebeb3.js","/assets/vendor.7487b1ff.js"])},{path:"/orders",name:"Orders",component:()=>J((()=>__import__("./Orders.3f96a6c0.js")),["/assets/Orders.3f96a6c0.js","/assets/vendor.7487b1ff.js"])},{path:"/auth",name:"Auth",component:V,children:[{path:"login",name:"Login",component:()=>J((()=>__import__("./Login.25728a19.js")),["/assets/Login.25728a19.js","/assets/Login.5e385bb0.css","/assets/vendor.7487b1ff.js"])}]}],Q=O({history:k(),routes:W}),X=T.create({baseURL:"https://api.evaly.com.bd/",timeout:6e4});localStorage.ACCESS_TOKEN&&localStorage.ACCESS_TOKEN.length>5&&(X.defaults.headers.common.Authorization="Bearer "+localStorage.ACCESS_TOKEN),X.defaults.headers.get.Accept="application/json",X.defaults.headers.post.Accept="application/json",X.defaults.headers.post["Content-Type"]="application/json";const Z={first_name:"Guest",last_name:"User"};var ee=w({modules:{auth:{namespaced:!0,state:(()=>{const e=localStorage.ACCESS_TOKEN,t=localStorage.REFRESH_TOKEN,o=localStorage.USER_PROFILE;return{profile:o&&o.length>3?JSON.parse(o):Z,accessToken:e||null,refreshToken:t||null,isAuthenticated:e&&e.length>4}})(),mutations:{LOGIN_USER:(e,t)=>{e.accessToken=t.accessToken,e.refreshToken=t.refreshToken,e.isAuthenticated=t.accessToken&&t.accessToken.length>4},MAKE_PROFILE:(e,t)=>{e.profile=t},LOGOUT_USER:e=>{e.profile=Z,e.accessToken=null,e.refreshToken=null,e.isAuthenticated=!1}},actions:{login:({dispatch:e,commit:t},o)=>X.post("/eauth/api/v1/auth/login",o).then((({data:o})=>{localStorage.ACCESS_TOKEN=o.data.access_token,localStorage.REFRESH_TOKEN=o.data.refresh_token,t("LOGIN_USER",{accessToken:o.data.access_token,refreshToken:o.data.refresh_token}),e("fetchProfile",o.data.access_token)})),fetchProfile:({commit:e},t=null)=>(t&&t.length>0&&(X.defaults.headers.common.Authorization="Bearer "+t),X.get("/eauth/api/v1/auth/profile").then((({data:t})=>{localStorage.USER_PROFILE=JSON.stringify(t.data),e("MAKE_PROFILE",t.data)}))),logout:({commit:e})=>(localStorage.removeItem("ACCESS_TOKEN"),localStorage.removeItem("REFRESH_TOKEN"),localStorage.removeItem("USER_PROFILE"),e("LOGOUT_USER"),X.post("/eauth/api/v1/auth/logout").then((()=>{localStorage.removeItem("ACCESS_TOKEN"),localStorage.removeItem("REFRESH_TOKEN"),localStorage.removeItem("USER_PROFILE"),e("LOGOUT_USER")})))},getters:{profile:e=>e.profile,isAuthenticated:e=>e.isAuthenticated,accessToken:e=>e.accessToken,refreshToken:e=>e.refreshToken}}}});const te=x(Y);te.mixin({methods:{formatDate:e=>R(e).format("DD/MM/YYYY hh:mm A"),workingDays(e,t=null){const o=R(e).diff(t||R(),"day");return Math.abs(o)}}}),te.use(ee),te.use(Q),te.mount("#app");export{X as c};
